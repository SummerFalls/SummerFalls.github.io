<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>MISRA-C 2004 规则解读 - Tomy Stark&#39;s Blog</title>


    <meta name="description" content="Written By Tomy Stark. E-mail: ro7enkranz@qq.comVer 1.0.0 Note:  本标准会不定期迭代完善 本文档由我从互联网整理收集而来，尚需完善，文中可能还存在诸多谬误，若发现有误可邮件联系以修正问题，在此感谢！   1 S ~ 20 S1 S：Procedure name reused.函数名与变量名称重复。 2 S：Label name re">
<meta name="keywords" content="C,Standard,Coding Style">
<meta property="og:type" content="article">
<meta property="og:title" content="MISRA-C 2004 规则解读">
<meta property="og:url" content="https://apex.linn.top/2019-09-20-MISRA-C-2004-规则解读.html">
<meta property="og:site_name" content="Tomy Stark&#39;s Blog">
<meta property="og:description" content="Written By Tomy Stark. E-mail: ro7enkranz@qq.comVer 1.0.0 Note:  本标准会不定期迭代完善 本文档由我从互联网整理收集而来，尚需完善，文中可能还存在诸多谬误，若发现有误可邮件联系以修正问题，在此感谢！   1 S ~ 20 S1 S：Procedure name reused.函数名与变量名称重复。 2 S：Label name re">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://apex.linn.top/images/IMG_6274.JPG">
<meta property="og:updated_time" content="2019-10-09T10:30:45.129Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MISRA-C 2004 规则解读">
<meta name="twitter:description" content="Written By Tomy Stark. E-mail: ro7enkranz@qq.comVer 1.0.0 Note:  本标准会不定期迭代完善 本文档由我从互联网整理收集而来，尚需完善，文中可能还存在诸多谬误，若发现有误可邮件联系以修正问题，在此感谢！   1 S ~ 20 S1 S：Procedure name reused.函数名与变量名称重复。 2 S：Label name re">
<meta name="twitter:image" content="https://apex.linn.top/images/IMG_6274.JPG">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/vs2015.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    
    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?095c2ecf4f76ce7c3e576e6ffc99edf2";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>

    
    
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1505643,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>


    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    
        <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="MISRA-C 2004 规则解读" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">主页</a>
                
                <a class="navbar-item"
                href="/archives">归档</a>
                
                <a class="navbar-item"
                href="/categories">分类</a>
                
                <a class="navbar-item"
                href="/tags">标签</a>
                
                <a class="navbar-item"
                href="/list">清单</a>
                
                <a class="navbar-item"
                href="/links">链接</a>
                
                <a class="navbar-item"
                href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span  class="image is-7by1">
            <img class="thumbnail" src="/images/IMG_6274.JPG" alt="MISRA-C 2004 规则解读">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-20T07:51:15.000Z">2019-09-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/C/">C</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/C/Standard/">Standard</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 读完 (大约 7746 个字)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span>次访问
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                MISRA-C 2004 规则解读
            
        </h1>
        <div class="content">
            <blockquote>
<p>Written By Tomy Stark.<br><i class="fas fa-at"></i> E-mail: <a href="mailto:ro7enkranz@qq.com" target="_blank" rel="noopener">ro7enkranz@qq.com</a><br>Ver 1.0.0</p>
<p>Note:</p>
<ul>
<li><strong>本标准会不定期迭代完善</strong></li>
<li><strong>本文档由我从互联网整理收集而来，尚需完善，文中可能还存在诸多谬误，若发现有误可邮件联系以修正问题，在此感谢！</strong></li>
</ul>
</blockquote>
<h2 id="1-S-20-S"><a href="#1-S-20-S" class="headerlink" title="1 S ~ 20 S"></a>1 S ~ 20 S</h2><p>1 S：Procedure name reused.函数名与变量名称重复。</p>
<p>2 S：Label name reused.局部变量重命名。虽然作用域不同能编译通过，但是容易造成混淆。</p>
<p>3 S：More than N executable reformatted lines in file.规定单个文件代码行数不能超过N，N值可配置。</p>
<p>4 S：Procedure exceeds N reformatted lines.规定单个函数的代码行数不能超过N，N值可配置。</p>
<p>5 S：Empty then clause.空语句有可能是开发人员忘记实现某个功能而留下的坑。所以在确实是空的地方这样写比较合适：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UINT_32 value_x = <span class="hljs-number">1u</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span> (value_x == <span class="hljs-number">0u</span>) &#123;</span><br><span class="line">    value_x = value_x + <span class="hljs-number">1u</span>;</span><br><span class="line">&#125; <span class="hljs-keyword">else</span>｛</span><br><span class="line">    <span class="hljs-comment">/*do nothing*/</span></span><br><span class="line">｝</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>6 S：Procedure pointer declared.避免使用函数指针：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"c_standards.h"</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">foo</span><span class="hljs-params">(UINT_32 p_1, UINT_16 p_2)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123; <span class="hljs-comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 6 S : Procedure pointer declared.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_6</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">void</span> (*proc_pointer) (UINT_32 p_1, UINT_16 p_2) = foo; <span class="hljs-comment">/* 不建议使用函数指针 */</span></span><br><span class="line"></span><br><span class="line">    proc_pointer(<span class="hljs-number">1u</span>, <span class="hljs-number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>7 S：Jump out of procedure. 避免使用非局部跳转语句，如setjmp和longjmp函数。</p>
<p>8 S：Empty else clause. 见【5S】。</p>
<p>9 S：Assignment operation in expression. 避免在表达式中使用赋值语句，举个栗子：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">BOOL <span class="hljs-title">static_9</span><span class="hljs-params">(BOOL test)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    BOOL result,flag;</span><br><span class="line">    result = ( flag = test ); <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    <span class="hljs-keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>10 S：空</p>
<p>11 S：No brackets to loop body (added by Testbed). 避免省去大括号，举个栗子：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i = i + <span class="hljs-number">1</span>) j--; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">    i = i - <span class="hljs-number">1</span>;</span><br><span class="line">&#125; <span class="hljs-keyword">else</span></span><br><span class="line">    i = i + <span class="hljs-number">1</span>;          <span class="hljs-comment">/* not compliant */</span></span><br></pre></td></tr></table></figure>

<p>12 S：No brackets to then/else (added by Testbed). 见【11S】。</p>
<p>13 S：goto detected.避免使用goto语句。</p>
<p>14 S：Procedural parameter declared. 避免使用函数作为函数的参数。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 14 S : Procedural parameter declared.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_14</span><span class="hljs-params">(<span class="hljs-keyword">void</span> (*p_proc_pointer)(INT_32 p1))</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    p_proc_pointer = test_14s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>15 S：Anonymous field to structure. 避免使用无名称的结构体，这通常出现在结构体嵌套使用的场景。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 15 S : Anonymous field to structure.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">s_15</span> &#123;</span></span><br><span class="line">    UINT_32 xs;</span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span></span><br><span class="line">        UCHAR ac;</span><br><span class="line">        UCHAR ab;</span><br><span class="line">    &#125;;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>16 S：Multiple labels declared. 避免在文件的同一处使用多个标签。</p>
<p>17 S：Code insert found. 避免在代码中嵌套出现汇编语句，大多数编译器是编译不通过的。</p>
<p>18 S：More than N parameters in procedure. 规定单个函数入参个数不能超过N，N值可配置。</p>
<p>19 S：Procedural para used in an uncalled procedure. 避免函数作为参数的情况，即使该函数未被调用，同【14S】。</p>
<p>20 S：Parameter not declared explicitly. 避免入参无变量类型，大多数编译器是编译不通过的。</p>
<h2 id="21-S-40-S"><a href="#21-S-40-S" class="headerlink" title="21 S ~ 40 S"></a>21 S ~ 40 S</h2><p>21 S：Number of parameters does not match. 函数定义的入参的个数与使用时传入的入参个数不一致。</p>
<p>22 S：Use of obsolete language feature ( use = - ). 不应当使用早期C语言中存在的语法规则，如=- =* =+等运算符。</p>
<p>23 S：Procedure is not called in text analysed. 在main函数的源文件中，如果某个函数不被本文件调用，该函数放在其他的源文件中比较合适。</p>
<p>24 S：Use of Noanalysis annotation. 使用标记某段源代码，这段代码不会被进行静态规则检查。</p>
<p>25 S：Null case(s) in switch statement. 避免某个case语句为空而执行到了下一个case：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">INT_32 <span class="hljs-title">static_25</span><span class="hljs-params">(INT_32 p_1)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT_32 i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">switch</span> (p_1)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:</span><br><span class="line">        j = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:</span><br><span class="line">        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">        j=i;</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">        <span class="hljs-keyword">default</span>:</span><br><span class="line">        i = j + <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">return</span> i + j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>26 S：Infinite loop used.避免使用死循环：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">for</span>(;;)</span><br><span class="line"><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>) &#123;...&#125;</span><br><span class="line"><span class="hljs-keyword">do</span> .. <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)</span><br></pre></td></tr></table></figure>

<p>27 S：Void procedure with return statement. 函数返回值被定义为void，却仍然有返回值，此条在VS2008中不能编译通过。</p>
<p>28 S：Duplicated Base Classes in a Derived class. 某个类有两个父类，在两个父类中存在同名函数，当子类调用该函数时会造成混乱：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Base</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    <span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sub1</span>:</span> <span class="hljs-keyword">public</span> Base &#123; <span class="hljs-comment">/* ... */</span> &#125;;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sub2</span>:</span> <span class="hljs-keyword">public</span> Base &#123; <span class="hljs-comment">/* ... */</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 28 S : Duplicated Base Classes in a Derived class.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">derived</span> :</span> <span class="hljs-keyword">public</span> Sub1, <span class="hljs-keyword">public</span> Sub2 &#123; <span class="hljs-comment">/* ... */</span> &#125;; <span class="hljs-comment">// not compliant</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_028</span> <span class="hljs-params">( <span class="hljs-keyword">void</span> )</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    derived d;</span><br><span class="line">    d.func(); <span class="hljs-comment">// ambiguous whether Sub1::Base::func()</span></span><br><span class="line">              <span class="hljs-comment">//                or Sub2::Base::func()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>29 S：Use of += or -= operators found. 避免使用+= 或者 -=运算符。</p>
<p>30 S：Deprecated usage of ++ or – operators found. 避免在表达式中使用连+或-符号：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_30</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT32_t x = <span class="hljs-number">1u</span>;</span><br><span class="line">    INT32_t y = <span class="hljs-number">2u</span>;</span><br><span class="line"></span><br><span class="line">    BOOL flag = FALSE;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (flag == FALSE)</span><br><span class="line">    &#123;</span><br><span class="line">        x++;        <span class="hljs-comment">/* compliant */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    x = x + y++;   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    func( x++ );   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>31 S：Use of break statement in loop. 避免在循环中使用break语句，建议用置标识的方法跳出循环。</p>
<p>32 S：Use of continue statement.避免在循环中使用continue语句，建议用置标识的方法控制循环。</p>
<p>33 S：Use of ternary operator found.避免使用三目运算符。</p>
<p>34 S：No parameters declared in proc specification. 在函数声明时无参数，在函数实现时却有参数，在VS2008下编译不通过。</p>
<p>35 S：Static procedure is not called in text analysed. 函数被声明为static类型，却没有在本文件调用，那么static修饰符是不必要的。</p>
<p>36 S：Function has no return statement. 函数不为void类型却无返回值。</p>
<p>37 S：Procedure parameter has a type but no identifier. 避免函数参数有类型却忽略变量名：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_37</span> <span class="hljs-params">( UINT32_t )</span></span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_37</span> <span class="hljs-params">( UINT32_t )</span>  <span class="hljs-comment">/* not compliant - constraint error */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-comment">/*do something*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>38 S：Use of static class member. 不建议对类中的变量和函数使用static修饰符。</p>
<p>39 S：Unsuitable type for loop variable. 有些类型不适合当作控制循环的变量，如float类型：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_39</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    FLOAT32_t f = <span class="hljs-number">0.0F</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">for</span> (f = <span class="hljs-number">0.0F</span>; f &lt; <span class="hljs-number">10.0F</span>; f = f + <span class="hljs-number">1.0F</span>) <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">/* ... */</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>40 S：Loop index is not declared locally. 避免控制循环条件的变量不在本函数内声明，有可能引起循环判断的条件失控：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">INT32_t <span class="hljs-title">loop_standards</span> <span class="hljs-params">(INT32_t p_1)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT32_t r = <span class="hljs-number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">for</span> (global_f = <span class="hljs-number">0</span>; global_f &lt; <span class="hljs-number">10</span>; global_f = global_f + <span class="hljs-number">1</span>) <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        r--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="41-S-60-S"><a href="#41-S-60-S" class="headerlink" title="41 S ~ 60 S"></a>41 S ~ 60 S</h2><p>41 S：Ellipsis used in procedure parameter list. 函数入参中使用省略符号，省略符号允许不确定的入参个数，建议避免该编程方式的使用。</p>
<p>42 S：Use of bit field in structure declaration. 避免在结构体声明中使用位字段</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">bitfield1</span> &#123;</span>INT_32_t  x:<span class="hljs-number">1</span>;&#125;;  <span class="hljs-comment">/* not compliant */</span></span><br></pre></td></tr></table></figure>

<p>43 S：Use of setjmp/longjmp. 避免使用setjmp/longjmp语句，使用该语句使得程序移植性差，结构混乱。</p>
<p>44 S：Use of banned function or variable. 不允许使用关键字命名变量和函数，避免使用与库文件中同名的函数和变量。</p>
<p>45 S：Use of C++ keyword. 不允许使用C++关键字：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_45</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t <span class="hljs-keyword">public</span>    = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-keyword">private</span>   = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-keyword">protected</span> = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-keyword">operator</span>  = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-keyword">new</span>       = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-keyword">template</span>  = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-keyword">virtual</span>   = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-keyword">delete</span>    = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-keyword">friend</span>    = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-built_in">cout</span>      = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-built_in">cin</span>       = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t <span class="hljs-built_in">endl</span>      = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>46 S：extern not in nominated include file.在某些程序中，只有指定的文件可以使用extern修饰符，如果不在指定的文件中使用extern修饰符静态测试会提示警告。</p>
<p>47 S：Array bound exceeded. 使用数组下标获取数组内容时，需要对越界进行防护。</p>
<p>48 S：No default case in switch statement. 避免在使用switch语句时无default分支：</p>
<p>49 S：Logical conjunctions need brackets. 逻辑运算符连接的判断条件，需要使用括号来包围。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_49</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    BOOL flag = TRUE;</span><br><span class="line">    INT_32 y = <span class="hljs-number">0</span>, x = <span class="hljs-number">0</span>, z = <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span> || z + y != <span class="hljs-number">0</span>)  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        flag = FALSE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ((x &lt; <span class="hljs-number">0</span>) || (z + y != <span class="hljs-number">0</span>))  <span class="hljs-comment">/* compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        flag = FALSE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>50 S：Use of shift operator on signed type. 避免对有符号数使用移位运算符：</p>
<p>51 S：Shifting value too far. 避免在移位操作中移动跨度过长。</p>
<p>52 S：Unsigned expression negated.对有符号变量进行运算，有造成变量翻转的风险。</p>
<p>53 S：Use of comma operator.避免使用逗号运算符。</p>
<p>54 S：Sizeof operator with side effects. 不能对表达式使用sizeof操作符。</p>
<p>55 S：Expression with more than one function. 避免在一个表达式中使用两个函数的返回值。</p>
<p>56 S：Equality comparison of floating point. 避免对两个浮点型数据进行比较。</p>
<p>57 S：Statement with no side effect. 避免出现即不改变逻辑又不进行赋值的无效语句。</p>
<p>58 S：Null statement found. 在某个控制语句前出现空行代码，这个空行有可能是开发人员忘记了实现某个功能而留下的坑,如果确实想空一行再写代码，建议补充注释：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_58</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t Timing_Loop = <span class="hljs-number">100U</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* not compliant - decrement is not part of loop */</span></span><br><span class="line">    <span class="hljs-keyword">while</span> (Timing_Loop &gt; <span class="hljs-number">0U</span>);</span><br><span class="line">        Timing_Loop--;</span><br><span class="line"></span><br><span class="line">    ; <span class="hljs-comment">/* compliant as followed by comment */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>59 S：Else alternative missing in if. 在与if/else if配对中缺少else的分支：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_59</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t x = <span class="hljs-number">1u</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ( x == <span class="hljs-number">1u</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">/* ... */</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( x == <span class="hljs-number">5u</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">/* ... */</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>60 S：Empty switch statement. 避免出现空switch(无case的情况)语句。</p>
<h2 id="61-S-80-S"><a href="#61-S-80-S" class="headerlink" title="61 S ~ 80 S"></a>61 S ~ 80 S</h2><p>61 S：Switch contains default only. 避免switch语句只有default分支而没有case分支。</p>
<p>62 S：Switch case not terminated with break. 建议每个case分支都有break语句。</p>
<p>63 S：Empty parameter list to procedure/function. 函数无入参时，建议增加void修饰：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_63</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> <span class="hljs-comment">/* compliant */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>64 S：Void procedure used in expression. 函数返回值为void类型，却对返回值进行操作，这在vs2008中是编译失败的。</p>
<p>65 S：Void variable passed as parameter. 避免使用void类型修饰函数入参：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">void_para_func</span><span class="hljs-params">(<span class="hljs-keyword">void</span> P1)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/******************************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 65 S : Void variable passed as parameter.</span></span><br><span class="line"><span class="hljs-comment"> * Does not Compile with VC++</span></span><br><span class="line"><span class="hljs-comment"> ******************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_65</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">void</span> v_ptr;</span><br><span class="line">    UINT32_t a;</span><br><span class="line"></span><br><span class="line">    void_para_func(v_ptr);   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    void_para_func((<span class="hljs-keyword">void</span>)a); <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>66 S：Function with empty return expression.定义有返回值的函数，却什么也没有返回，这在vs2008中是编译失败的。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">UINT32_t <span class="hljs-title">static_66</span> <span class="hljs-params">( <span class="hljs-keyword">void</span> )</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">    <span class="hljs-keyword">return</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>67 S：#define used in a block. define语句应当出现在文件开头处，不应当在函数体内使用。</p>
<p>68 S：#undef used. 避免使用#undef语句。</p>
<p>69 S：#pragma used. 避免使用#pragma语句。</p>
<p>70 S：Logical comparison of pointers. 对指针的比较只允许使用（== and !=）</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">char</span> * x;</span><br><span class="line"><span class="hljs-keyword">char</span> * y;</span><br><span class="line">....</span><br><span class="line"><span class="hljs-keyword">if</span> (x&gt;y)        &#123; <span class="hljs-comment">/*  Incorrect, Unsafe*/</span> &#125;</span><br><span class="line"><span class="hljs-keyword">if</span> (x==y)       &#123; <span class="hljs-comment">/*  Correct usage*/</span> &#125;</span><br></pre></td></tr></table></figure>

<p>71 S：Pointer assignment to wider scope. 该规则用于检查对象的指针是否被分配给超过其作用域范围的值。 由于局部变量在运算完成后，指针指向的变量空间可能被收回，那么被赋值的外部变量可能指向未知的值。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">UINT32_t *ptr;</span><br><span class="line"><span class="hljs-function">UINT32_t* <span class="hljs-title">static_71</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">static</span> UINT32_t w = <span class="hljs-number">10u</span>;</span><br><span class="line">    UINT32_t local = <span class="hljs-number">3U</span>;</span><br><span class="line">    UINT32_t *local_ptr = &amp;local;</span><br><span class="line"></span><br><span class="line">    ptr = &amp;local;     <span class="hljs-comment">/* Not Compliant */</span></span><br><span class="line"></span><br><span class="line">    ptr = local_ptr;  <span class="hljs-comment">/* Not Compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">return</span> &amp;w;       <span class="hljs-comment">/* Not Compliant if modifier is set to 0 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>72 S：Signed bit field less than 2 bits wide.有符号型变量有一位表示符号，至少还需要一位表示值。</p>
<p>73 S：Bit field not signed or unsigned int.位字段被定义成其他类型是危险的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">static_73</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    UCHAR  x:<span class="hljs-number">1</span>;  <span class="hljs-comment">/* Not Compliant */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>74 S：Union declared. 避免使用联合定义数据结构。</p>
<p>75 S：Executable code before an included file. #include语句必须出现在可执行语句之前。</p>
<p>76 S：More than one of # or ## in a macro. 不允许宏定义中出现多个 # 或者 ##：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* not compliant */</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SetVariable(Variable, Value) (dummy(NewString##Variable, #Value))</span></span><br></pre></td></tr></table></figure>

<p>77 S：Macro replacement list needs parentheses. 使用宏定义时，注意使用括号来限定宏运算的边界，避免在宏被替换后出现意想不到的运算组合：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> increment_NOK(a)    (a) + 1</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> increment_OK(b)     ((b) + 1)</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 77 S : Macro replacement list needs parentheses.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_77</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT32_t result = <span class="hljs-number">1</span>;</span><br><span class="line">    result = increment_NOK(result) * <span class="hljs-number">2</span>; <span class="hljs-comment">/* result = 3 */</span></span><br><span class="line"></span><br><span class="line">    result = <span class="hljs-number">1</span>;</span><br><span class="line">    result = increment_OK(result) * <span class="hljs-number">2</span>;  <span class="hljs-comment">/* result = 4 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>78 S：Macro parameter not in brackets. 同77 S：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> abs(x) (((x) &gt;= 0) ? (x) : -(x)) <span class="hljs-comment">/* Compliant */</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> abs(x) x &gt;= 0 ? x : -x           <span class="hljs-comment">/* Not compliant */</span></span></span><br></pre></td></tr></table></figure>

<p>79 S：Macro contains unacceptable items. 宏定义中避免出现关键字：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* not compliant */</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> t void</span></span><br></pre></td></tr></table></figure>

<p>80 S：Pointer indirection exceeds 2 levels. 避免使用二级指针。</p>
<h2 id="81-S-100-S"><a href="#81-S-100-S" class="headerlink" title="81 S ~ 100 S"></a>81 S ~ 100 S</h2><p>81 S：Use of trigraphs. C语言不允许使用三字母词，编译不能通过：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_81</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line">??&lt;   /* not compliant */</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>82 S：Use of wide string literal. 避免使用宽字符类型：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_82</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    wchar_t WideChar = L'1'; /* not compliant */</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>83 S：Octal number found. 由于8进制数以0开头，容易造成混淆，所以在代码中应当避免使用八进制计数：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">code[<span class="hljs-number">1</span>] = <span class="hljs-number">109</span>;   <span class="hljs-comment">/* set to decimal 109 */</span></span><br><span class="line">code[<span class="hljs-number">2</span>] = <span class="hljs-number">100</span>;   <span class="hljs-comment">/* set to decimal 100 */</span></span><br><span class="line">code[<span class="hljs-number">3</span>] = <span class="hljs-number">052</span>;   <span class="hljs-comment">/* incorrect - set to decimal 42 */</span></span><br><span class="line">code[<span class="hljs-number">4</span>] = <span class="hljs-number">071</span>;   <span class="hljs-comment">/* incorrect - set to decimal 57 */</span></span><br></pre></td></tr></table></figure>

<p>84 S：Register variable declared. 避免使用Register关键字修饰变量：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_84</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">register</span> SINT_32 ri = <span class="hljs-number">0</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>85 S：Incomplete initialisation of enumerator. 初始化枚举类型时候，或者全部默认，或者全部初始化，或者只初始化第一个值，其他的初始化方式是不妥的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">enum</span> VAL &#123;x, y, z&#125;;              <span class="hljs-comment">/*GOOD - no explicit initialisation*/</span></span><br><span class="line"><span class="hljs-keyword">enum</span> VAL &#123;x = <span class="hljs-number">1</span>, y, z&#125;;          <span class="hljs-comment">/*GOOD - first value only*/</span></span><br><span class="line"><span class="hljs-keyword">enum</span> VAL &#123;x = <span class="hljs-number">2</span>, y = <span class="hljs-number">3</span>, z = <span class="hljs-number">4</span>&#125;;  <span class="hljs-comment">/*GOOD - all values set*/</span></span><br><span class="line"><span class="hljs-keyword">enum</span> VAL &#123;x, y, z = <span class="hljs-number">1</span>&#125;;          <span class="hljs-comment">/*BAD*/</span></span><br></pre></td></tr></table></figure>

<p>86 S：Attempt to define reserved word.避免define保留字段。</p>
<p>87 S：Use of pointer arithmetic. 避免对指针使用数学运算：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_87</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t w;</span><br><span class="line">    UINT32_t <span class="hljs-built_in">array</span>[<span class="hljs-number">5</span>];</span><br><span class="line">    UINT32_t * p1_ptr;</span><br><span class="line"></span><br><span class="line">    p1_ptr = <span class="hljs-built_in">array</span>;</span><br><span class="line">    w = *(p1_ptr + <span class="hljs-number">8</span>);  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>88 S：Procedure is not pure assembler. 避免C语言与汇编语言混合使用。</p>
<p>89 S：char type not signed or unsigned. char类型建议定义为signed或者unsigned类型。</p>
<p>90 S：Basic type declaration used. 对于不同编译器基础类型的宽度可能不同，该建议在程序编写前做如下定义：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">char</span>                            CHAR_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>                   UCHAR_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">short</span>                  UINT16_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>                    UINT32_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">signed</span> <span class="hljs-keyword">char</span>                     SCHAR_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">signed</span> <span class="hljs-keyword">short</span>                    SINT16_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">signed</span> <span class="hljs-keyword">int</span>                      SINT_32_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">float</span>                           FLOAT_32_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">double</span>                          FLOAT_64_t;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> &#123;FALSE = <span class="hljs-number">0</span>, TRUE = <span class="hljs-number">1</span>&#125;      BOOL_t;</span><br></pre></td></tr></table></figure>

<p>91 S：Name redeclared in another C name space (MR). 尽管C语言允许在不同的作用域定义相同的变量名，为避免混淆建议定义不重名变量（在复杂系统中该条很难实现）。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">s_91</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    UINT32_t s_91;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t u_1;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-function">UINT32_t <span class="hljs-title">static_91</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t var_1;</span><br><span class="line"></span><br><span class="line">    static_91:      <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    var_1 = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> (var_1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>92 S：Duplicate use of a name in an enumeration.针对枚举类型，建议不使变量重名：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_92</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">enum</span> Name_type &#123; e1, duplicate &#125; EnumVar;</span><br><span class="line"></span><br><span class="line">    EnumVar = e1;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>93 S：Value is not of appropriate type.强制要求类型检查，不同类型之间转换需要显示转换：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">STATIC_93</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    FLOAT_32 fl;</span><br><span class="line"></span><br><span class="line">    fl = <span class="hljs-number">2.0</span>; <span class="hljs-comment">/* not compliant - Requires explicit assignment of 2.0F */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>94 S：Casting operation on a pointer. 避免对指针进行强制类型转换（通过修改测试软件配置，可以允许指针在同类型之间转换）：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_94</span><span class="hljs-params">(UINT_32 * p1_ptr)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    FLOAT_32 v_1;</span><br><span class="line"></span><br><span class="line">    v_1 = (FLOAT_32) p1_ptr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>95 S：Casting operation to a pointer. 给指针赋值安全的方式是通过获取对象地址，强转赋值的方式有风险：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Astruct</span> &#123;</span> UINT_32 a; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_95</span><span class="hljs-params">(UINT_32 *intptr)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Astruct</span> *<span class="hljs-title">Astructptr</span>;</span></span><br><span class="line">    Astructptr = (struct Astruct *) intptr; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>96 S：Use of mixed mode arithmetic. 不同类型的变量进行数学运算，需要进行强制转换：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_96</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT32_t i32 = <span class="hljs-number">10</span>;</span><br><span class="line">    FLOAT64_t f64 = <span class="hljs-number">20.5</span>;</span><br><span class="line">    FLOAT32_t f32 = <span class="hljs-number">2.0F</span>;</span><br><span class="line"></span><br><span class="line">    f64 = i32 + f64;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    f64 = f64 * f32;  <span class="hljs-comment">/* compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>97 S：Use of redundant cast. 避免使用不必要的强制类型转换：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_97</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    SINT32_t sx,sy = <span class="hljs-number">-10</span>;</span><br><span class="line"></span><br><span class="line">    sx = (SINT32_t) sy + <span class="hljs-number">1</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>98 S：Actual and formal parameters inconsistent (MR).函数调用时传入的参数类型与定义时不一致。</p>
<p>99 S：Function use is not a call.函数缺少声明。</p>
<p>100 S：#include filename is non conformant. include语句中禁止使用 字符’ \ /*。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;\ctype.h&gt; /* not compliant */</span></span></span><br></pre></td></tr></table></figure>

<h2 id="101-S-120-S"><a href="#101-S-120-S" class="headerlink" title="101 S ~ 120 S"></a>101 S ~ 120 S</h2><p>101 S：Function return type inconsistent. 函数的实际返回值类型与定义的返回值类型不同：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">UINT32_t <span class="hljs-title">static_101</span><span class="hljs-params">( UINT32_t par_1)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">switch</span> (par_1)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:</span><br><span class="line">        <span class="hljs-keyword">return</span> (<span class="hljs-number">-1</span>);     <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:</span><br><span class="line">        <span class="hljs-keyword">return</span> (<span class="hljs-number">1U</span>);</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:</span><br><span class="line">        <span class="hljs-keyword">return</span> (<span class="hljs-number">1L</span>);    <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:</span><br><span class="line">        <span class="hljs-keyword">return</span> (<span class="hljs-number">1.0f</span>);  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    <span class="hljs-keyword">default</span>:</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>102 S：Function and prototype return inconsistent (MR). 函数声明时的返回值类型与实际使用时的返回值类型不同:</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">UINT32_t <span class="hljs-title">static_102</span><span class="hljs-params">(UINT32_t p_1, UINT16_t p_2)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**************************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 102 S : Function and prototype return inconsistent.</span></span><br><span class="line"><span class="hljs-comment"> **************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function">SINT32_t <span class="hljs-title">static_102</span><span class="hljs-params">(UINT32_t p_1, UINT16_t p_2)</span> <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    SINT32_t result = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">    <span class="hljs-keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>103 S：Function and prototype param inconsistent (MR). 函数声明时的参数类型与实际使用时的参数类型不同：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">BOOL <span class="hljs-title">static_103</span><span class="hljs-params">(FLOAT32_t up_1)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/***************************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 103 S : Function and prototype param inconsistent.</span></span><br><span class="line"><span class="hljs-comment"> ***************************************************************/</span></span><br><span class="line"><span class="hljs-function">BOOL <span class="hljs-title">static_103</span><span class="hljs-params">(UINT32_t up_1)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    BOOL ret = FALSE;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">    <span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>104 S：Struct field initialisation incorrect. 结构体初始化赋值的类型与定义的类型不符：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">s_type_a</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    SINT32_t xs;</span><br><span class="line">    FLOAT32_t fs;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 104 S : Struct field initialisation incorrect.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_104</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">s_type_a</span> <span class="hljs-title">sta</span> = &#123;</span><span class="hljs-number">3.14F</span>, <span class="hljs-number">0.0f</span>&#125;; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>105 S：Initialisation brace { } fault. 初始化结构体忘记使用大括号会出错：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">pixel</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    UINT32_t colour;</span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span></span><br><span class="line">        UINT32_t x, y;</span><br><span class="line">    &#125; coords;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/***********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 105 S : Struct field initialisation brace fault.</span></span><br><span class="line"><span class="hljs-comment"> ***********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_105</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t xs = <span class="hljs-number">0</span>;</span><br><span class="line">    UINT32_t ys = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">pixel</span> <span class="hljs-title">spot</span> = &#123;</span><span class="hljs-number">1u</span>, xs, ys &#125;; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>106 S：Volatile declaration.避免使用Volatile修饰变量，Volatile可以在应用程序外被改变，容易造成逻辑混淆。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_106</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">volatile</span> UINT32_t v = <span class="hljs-number">1U</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT32_t x = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">    x = v;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>107 S：Type mismatch in ternary expression. 使用三目运算符时类型不匹配：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_107</span><span class="hljs-params">( BOOL flag )</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t  x = <span class="hljs-number">0U</span>;</span><br><span class="line">    FLOAT32_t f = <span class="hljs-number">0.0F</span>;</span><br><span class="line"></span><br><span class="line">    x = (flag ? f : x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>108 S：Assignment types do not match. 变量赋值时类型不匹配：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_108</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    FLOAT32_t fl = <span class="hljs-number">2.0F</span>;</span><br><span class="line">    FLOAT_64 dbl = <span class="hljs-number">3.0</span>;</span><br><span class="line"></span><br><span class="line">    fl = dbl; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>109 S：Array subscript is not integral. 数组的索引必须为正数。</p>
<p>110 S：Use of single line comment //. 由于使用双斜杠标记注释的做法不是对所用的编译器通用，建议对注释段使用/**/的方式。</p>
<p>111 S：Label is not part of switch statement . 只有在switch语句中使用标签语法是安全的。</p>
<p>112 S：Typedef name redeclared.使用typedef 时某个名称被重复使用是危险的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">typedef</span> SINT32_t mytype;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/*******************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 112 S : Typedef name redeclared.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_112</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">typedef</span> FLOAT32_t mytype; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>113 S：Non standard character in source.源文件中出现非法字符，合法的字符如下：</p>
<figure class="highlight hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">3</span>***** The lines of permissible characters,(<span class="hljs-number">80</span>A1),those NOT changed</span><br><span class="line">ABCDEFGHIJKLMNOPQRSTUVWXYZ</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">()[].!~+-*/%&lt;&gt;=&amp; ^|?:;,0123456789_&#123;&#125;'"#\$@&lt;space&gt;&lt;tab&gt;</span><br></pre></td></tr></table></figure>

<p>114 S：Expression is not Boolean. 表达式类型不为BOOl类型，或者表达式的运算对象都为BOOL类型：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_114</span><span class="hljs-params">(BOOL bl, UINT32_t a)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t x;</span><br><span class="line">    BOOL flag;</span><br><span class="line"></span><br><span class="line">    flag = bl + bl; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (a) <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        ; <span class="hljs-comment">/* ... */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (a == <span class="hljs-number">1</span>) <span class="hljs-comment">/*compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        ; <span class="hljs-comment">/* ... */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    x = ( a &amp;&amp; bl ? <span class="hljs-number">1U</span> : <span class="hljs-number">0U</span> ); <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>115 S：String incorrectly terminated. string类型换行时需要使用反斜杠，否则在某些编译器中造成string类型结尾异常的错误：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/*******************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 115 S : String incorrectly terminated.</span></span><br><span class="line"><span class="hljs-comment"> *******************************************************/</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_115</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    CHAR* str1 = <span class="hljs-string">"string\</span></span><br><span class="line"><span class="hljs-string">                    literal"</span>;   <span class="hljs-comment">/* compliant */</span></span><br><span class="line"></span><br><span class="line">    CHAR* str2 = <span class="hljs-string">"string</span></span><br><span class="line"><span class="hljs-string">                    literal"</span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>116 S：Boolean comparison with 0 preferred. 与一个已知值的变量进行比较时，使用不等号来判断FALSE比使用等号判断TRUE安全：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_116</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t x = <span class="hljs-number">2u</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ( x == <span class="hljs-number">1u</span> ) <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">/* ... */</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> ( x != <span class="hljs-number">1u</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">/* ... */</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>117 S：Logical negation of constant value. 对const变量取反是危险的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_117</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    BOOL flag = FALSE;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (flag == (BOOL)!<span class="hljs-number">1</span>) <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">/* ... */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>118 S：main must be int (void) or int (int,char* []).C语言Main函数的格式必须是int (void) 或者 int (int,char* [])。</p>
<p>119 S：Nested comment found.避免在注释中出现子注释：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_119</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-comment">/*  This is the Outer Comment</span></span><br><span class="line"><span class="hljs-comment">    /* This is the Inner Comment - not compliant</span></span><br><span class="line"><span class="hljs-comment">    */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>120 S：Use of bit operator on signed type. 避免对有符号类型进行位运算：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_120</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    SINT32_t b = <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">    b = b | <span class="hljs-number">1</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="121-S-140-S"><a href="#121-S-140-S" class="headerlink" title="121 S ~ 140 S"></a>121 S ~ 140 S</h2><p>121 S：Use of boolean expression in switch. 避免在switch case语句中使用BOOL类型：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_121</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    BOOL flag = FALSE;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">switch</span> (flag)  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">case</span> TRUE:</span><br><span class="line">            <span class="hljs-keyword">break</span>;</span><br><span class="line">        <span class="hljs-keyword">case</span> FALSE:</span><br><span class="line">            <span class="hljs-keyword">break</span>;</span><br><span class="line">        <span class="hljs-keyword">default</span>:</span><br><span class="line">            <span class="hljs-keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>122 S：Use of abort, exit, etc. 避免使用语法abort, exit, etc:</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 122 S : Use of abort, exit, etc.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_122</span><span class="hljs-params">(BOOL flag)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-built_in">abort</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>123 S：Use of underlying enum representation value. 枚举类型只允许在同类型之间比较：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_123</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">enum</span> E_type &#123; Enum1, Enum2 , Enum3&#125;;</span><br><span class="line"></span><br><span class="line">    UINT32_t ui;</span><br><span class="line"></span><br><span class="line">    ui = Enum1;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>124 S：Use of prefix ++ or –. 尽量少使用自增或自减运算符。</p>
<p>125 S：Use of ## or # in a macro. 为避免意外的结果发生，不要在宏定义中使用##或#。</p>
<p>126 S：A #if has no #endif in the same file.#if和#endif需要成套使用。</p>
<p>127 S：Array has no bounds specified. 数组声明时候信息需要完整：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_127</span><span class="hljs-params">( INT32_t par[] )</span> <span class="hljs-comment">/* not compliant, unless modifier 286 set */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT32_t <span class="hljs-built_in">array</span>[] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;;    <span class="hljs-comment">/* not compliant, unless MISRA-C:2004 used */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>128 S：Parameter has same name as global variable. 函数参数名避免与全局变量重名。</p>
<p>129 S：Parameter has same name as type or tag. 函数参数名避免与结构体重名。</p>
<p>130 S：Included file is not permitted. 某些头文件在测试工具中规定不允许使用。</p>
<p>131 S：Name reused in inner scope. 避免内部变量与外部变量重名。</p>
<p>132 S：Assignment operator in boolean expression.bool表达式中避免出现变量赋值语句：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_132</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    BOOL flag = FALSE;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (flag = FALSE) <span class="hljs-comment">/* not compliant -  should be (flag == FALSE) */</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">/* ... */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>133 S：Assignment operator in RHS of &amp;&amp; or ||.运算符两侧避免出现赋值语句：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_133</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    BOOL flag = FALSE;</span><br><span class="line">    INT32_t y = <span class="hljs-number">0</span>, x = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (flag &amp;&amp; ((x = y) == <span class="hljs-number">0</span>)) <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">/* ... */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>134 S：Volatile variable in complex expression. 避免使用Volatile修饰变量，更不要在复杂表达式中使用Volatile变量。</p>
<p>135 S：Parameter list is KR. 某些编译器支持函数参数声明时只声明名称而不定义类型，在使用时再定义类型，应当避免这种老式用法：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_135</span><span class="hljs-params">(p_1,  p_2)</span> <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-function">UINT32_t p_1</span>;</span><br><span class="line">UINT32_t p_2;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>136 S：Bit operator with boolean operand. bool表达式中避免使用位操作符，因为位操作符（|或者&amp;）容易与连接符（||或者&amp;&amp;）混淆。</p>
<p>137 S：Bit operator acting on boolean value. 同136S</p>
<p>138 S：Anonymous bit field used in structure.避免在结构体位域中使用匿名方法：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">bad</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    UINT32_t x : <span class="hljs-number">1</span>;</span><br><span class="line">    UINT32_t   : <span class="hljs-number">1</span>;</span><br><span class="line">    UINT32_t z : <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">good</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    UINT32_t x : <span class="hljs-number">1</span>;</span><br><span class="line">    UINT32_t y : <span class="hljs-number">1</span>;</span><br><span class="line">    UINT32_t z : <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>139 S：Construct leads to infeasible code.指在代码中某个逻辑导致部分语句不可达，例如两个常量的比较，结果是恒真或假的，又比如两个并列的条件是耦合的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span></span><br><span class="line">&#123;</span><br><span class="line">    LANE_0 = <span class="hljs-number">0</span>,</span><br><span class="line">    LANE_1 = <span class="hljs-number">1</span>,</span><br><span class="line">    LANE_LAST = <span class="hljs-number">3</span></span><br><span class="line">&#125; <span class="hljs-keyword">lane_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">extern</span> lane_t <span class="hljs-title">get_lane</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 139 S : Construct leads to infeasible code.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_139</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">lane_t</span> lane = get_lane();</span><br><span class="line">    <span class="hljs-keyword">if</span> ((lane &gt; LANE_0) &amp;&amp; (lane &lt;= LANE_LAST))</span><br><span class="line">        <span class="hljs-comment">/* not compliant - False branch of 'lane &lt;= LANE_LAST' never reached */</span></span><br><span class="line">        &#123; <span class="hljs-comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (defval)</span><br><span class="line">        <span class="hljs-comment">/* not compliant - True branch never reached*/</span></span><br><span class="line">        &#123; <span class="hljs-comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span>) &#123; <span class="hljs-comment">/* NEVER EXECUTED */</span> &#125; <span class="hljs-keyword">else</span> &#123;...&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>140 S：Infeasible loop condition found. 避免在循环中出现恒真或恒假的条件：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> defval 0</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 140 S : Infeasible loop condition found.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_140</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">while</span> (<span class="hljs-number">0</span>)          <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">        &#123; <span class="hljs-comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">while</span>(defval)   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">        &#123; <span class="hljs-comment">/* ... */</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="141-S-160-S"><a href="#141-S-160-S" class="headerlink" title="141 S ~ 160 S"></a>141 S ~ 160 S</h2><p>141 S：Incomplete structure or class declaration. 结构体或者类声明不完整：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">atagname</span>;</span> <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">atagname</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    UINT32_t A;</span><br><span class="line">    UINT32_t B;</span><br><span class="line">&#125;; <span class="hljs-comment">/*compliant */</span></span><br></pre></td></tr></table></figure>

<p>142 S：Parameter list declarations are inconsistent. 函数某些参数缺少类型或者名称:</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_142</span><span class="hljs-params">(UINT32_t , UINT16_t p_2)</span>  <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>143 S：Curly brackets used in expression. 表达式中使用大括号会对某些编译器造成干扰，应当避免使用：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">UINT32_t <span class="hljs-title">static_143</span><span class="hljs-params">(UINT32_t p_1)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t result;</span><br><span class="line">    result = p_1&#123;&#125;;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    <span class="hljs-keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>144 S：Floating point not permitted. 避免使用浮点类型，尤其是对浮点类型的操作，应为对浮点类型的操作可能使精度降低：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">FLOAT32_t <span class="hljs-title">static_144</span><span class="hljs-params">(FLOAT32_t p_1,FLOAT32_t p_2)</span>  <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    FLOAT32_t result;      <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    result = p_1 + p_2;</span><br><span class="line">    <span class="hljs-keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>145 S：#if has invalid expression. #if语句后应当为BOOL类型，如下的表达式写法对有些编译器会造成误解：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> MACRO_NAME JUNK_NAME</span></span><br></pre></td></tr></table></figure>

<p>146 S：#define with empty parameter list.注意使用#define定义表达式，参数为空的情况，如下给出了建议的写法：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> Macro() some_macro_body <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> Macro some_macro_body   <span class="hljs-comment">/* compliant */</span></span></span><br></pre></td></tr></table></figure>

<p>147 S：Spurious CHAR_tacters after preprocessor directive. 避免出现不必要的字符，注意下面情况中结尾的分号是不必要的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> STATIC_147</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> CHAR_t UCHAR_t;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span> ; <span class="hljs-comment">/* not compliant */</span></span></span><br></pre></td></tr></table></figure>

<p>148 S：No return type for function/procedure. 函数缺少返回类型,vs2008下编译失败:</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">static_148(UINT32_t p1);  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">static_148(UINT32_t p1)   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>149 S：Reference parameter to procedure is reassigned. 传入函数的引用参数在函数内被重新赋值：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">CHAR_t *<span class="hljs-title">static_149</span><span class="hljs-params">(CHAR_t *p1)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">test_149</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    CHAR_t *a = <span class="hljs-string">"Query"</span>;</span><br><span class="line">    CHAR_t *b;</span><br><span class="line">    b = static_149(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 149 S : Reference parameter to procedure is reassigned.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"><span class="hljs-function">CHAR_t *<span class="hljs-title">static_149</span><span class="hljs-params">(CHAR_t *p1)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">static</span> CHAR_t *newA = <span class="hljs-string">"Response"</span>;</span><br><span class="line"></span><br><span class="line">    p1++;        <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    p1 = p1+<span class="hljs-number">1</span>;   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    p1 = newA;   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">return</span> p1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>150 S：Volatile or const used in function type. 对函数的返回值使用Volatile 或者 const修饰是无意义的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">volatile</span> UINT32_t <span class="hljs-title">STATIC_150</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/***********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 150 S : Volatile or const used in function type.</span></span><br><span class="line"><span class="hljs-comment"> ***********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">volatile</span> UINT32_t <span class="hljs-title">STATIC_150</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>  <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">volatile</span> UINT32_t r;</span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line">    <span class="hljs-keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>151 S：Use of global variable in macro definition. 避免在宏定义中使用全局变量：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UINT32_t globvar;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STATIC_151 globvar  <span class="hljs-comment">/* not compliant */</span></span></span><br></pre></td></tr></table></figure>

<p>152 S：Use of a comment in a macro definition.宏定义语句中不建议增加注释，注释内容可以写在语句上一行：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STATIC_152 3 <span class="hljs-comment">/* not compliant comment */</span></span></span><br></pre></td></tr></table></figure>

<p>153 S：Use of a comment in a pre-processor directive.同147S，在编译器不解析的地方不建议出现注释行：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> STATIC_153 <span class="hljs-comment">/* A Comment  - not compliant */</span></span></span><br><span class="line">    <span class="hljs-comment">/* ... */</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span> <span class="hljs-comment">/* Another Comment - not compliant */</span></span></span><br></pre></td></tr></table></figure>

<p>154 S：Nested header files found. 避免嵌套包含头文件，需要的头文件建议直接包含：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Static_154_1.h</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"c_standards.h"</span></span></span><br><span class="line"></span><br><span class="line">Static_154.h</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Static_154_1.h"</span></span></span><br><span class="line"></span><br><span class="line">Static_154.c</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Static_154.h"</span>  <span class="hljs-comment">/* not compliant，proposal to included c_standards.h directly*/</span></span></span><br></pre></td></tr></table></figure>

<p>155 S：Comments between preprocessor directives. 避免用#ifdef语句来写注释，防止#ifdef语句中的变量被定义后，注释被编译报错：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> STATIC_155</span></span><br><span class="line">    <span class="hljs-keyword">this</span> acts as a comment, as STATIC_155 is undefined.</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>156 S：Use of ‘defined’ keyword in macro body. 宏定义中避免使用’defined’关键字：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STATIC_156(x) defined(x)  <span class="hljs-comment">/* not compliant */</span></span></span><br></pre></td></tr></table></figure>

<p>157 S：Modification of string literal. string类型存储在内存的只读块，改变string类型的字符是危险的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_157</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    CHAR_t *c = <span class="hljs-string">"1234567890"</span>;</span><br><span class="line"></span><br><span class="line">    c[<span class="hljs-number">7</span>] = <span class="hljs-string">'0'</span>;   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    *(c+<span class="hljs-number">6</span>) = <span class="hljs-string">'1'</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>158 S：Expression with more than N subconditions.并列条件超过N时报警，N值是可配置的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_158</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT32_t a1,b1,c1,d1,e1;</span><br><span class="line">    INT32_t a2,b2,c2,d2,e2;</span><br><span class="line">    INT32_t a3,b3,c3,d3,e3;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ((a1==<span class="hljs-number">0</span>) &amp;&amp; (b1==<span class="hljs-number">0</span>) &amp;&amp; (c1==<span class="hljs-number">0</span>) &amp;&amp; (d1==<span class="hljs-number">0</span>) &amp;&amp; (e1==<span class="hljs-number">0</span>)</span><br><span class="line">        &amp;&amp; (a2==<span class="hljs-number">0</span>) &amp;&amp; (b2==<span class="hljs-number">0</span>) &amp;&amp; (c2==<span class="hljs-number">0</span>) &amp;&amp; (d2==<span class="hljs-number">0</span>) &amp;&amp; (e2==<span class="hljs-number">0</span>)</span><br><span class="line">        &amp;&amp; (a3==<span class="hljs-number">0</span>) &amp;&amp; (b3==<span class="hljs-number">0</span>) &amp;&amp; (c3==<span class="hljs-number">0</span>) &amp;&amp; (d3==<span class="hljs-number">0</span>) &amp;&amp; (e3==<span class="hljs-number">0</span>)) <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-comment">/* ... */</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>159 S：Comparing pointer with zero or NULL.指针与NULL比较时，建议对NULL进行类型转换与指针类型一致：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CHAR_t *message;</span><br><span class="line"><span class="hljs-keyword">if</span> (message != (CHAR_t *)(<span class="hljs-literal">NULL</span>)) <span class="hljs-comment">/* compliant */</span></span><br><span class="line"><span class="hljs-keyword">if</span> (message != <span class="hljs-literal">NULL</span> )            <span class="hljs-comment">/* not compliant */</span></span><br></pre></td></tr></table></figure>

<p>160 S：Loop in macro expansion. 避免在宏定义中出现循环，下面的写法除了增加代码行数外是无意义的：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> A B</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> B A</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> C D</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> D E</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> E C</span></span><br></pre></td></tr></table></figure>

<h2 id="161-S-180-S"><a href="#161-S-180-S" class="headerlink" title="161 S ~ 180 S"></a>161 S ~ 180 S</h2><p>161 S：Declaration in for statement. 避免在for循环中定义变量：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">STATIC_161</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT32_t x, y=<span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">unsigned</span> x(<span class="hljs-number">0</span>);x &lt;<span class="hljs-number">3</span>;x++) <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#123;</span><br><span class="line">        y++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>162 S：Method defined within class declaration. 除了成员函数，不要在类申明中定义函数。</p>
<p>163 S：Function starts with upper case character. 建议与175S一起取消。</p>
<p>164 S：Use of void * pointer. 避免使用void类型指针：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">proc</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *ptr)</span> </span>&#123; ; &#125; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> *<span class="hljs-title">a_proc</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>               <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_164</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">void</span> * p = a_proc();          <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    proc(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>165 S：Nested class declaration. 避免嵌套使用类：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">one</span> &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-keyword">long</span> along;</span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">nested</span></span></span><br><span class="line"><span class="hljs-class">    &#123;</span></span><br><span class="line">    <span class="hljs-keyword">public</span>:</span><br><span class="line">        <span class="hljs-keyword">short</span> s;</span><br><span class="line">        nested()&#123;;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    one()</span><br><span class="line">    &#123;</span><br><span class="line">        nested anest;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>166 S：Class declared in function body.避免在函数体内定义类：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">one</span> &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-keyword">long</span> l;</span><br><span class="line">    one()&#123;;&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">aproc</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">inproc1</span></span></span><br><span class="line"><span class="hljs-class">        &#123;</span></span><br><span class="line">        <span class="hljs-keyword">public</span>:</span><br><span class="line">            <span class="hljs-keyword">short</span> s;</span><br><span class="line">            inproc1()&#123;;&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>167 S：Class variable declared in class definition. 建议不要直接在结构体或者类定义后申明变量，使用typedef是更好的做法：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">one</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-keyword">long</span> a;</span><br><span class="line">    one()&#123;;&#125;</span><br><span class="line"></span><br><span class="line">&#125; aone, *paone;</span><br></pre></td></tr></table></figure>

<p>168 S：Call by value parameter not const. 值类型的函数参数传递建议使用const修饰:</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">aproc</span><span class="hljs-params">(SINT32_t iv_param)</span> </span>&#123;;&#125;        <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">bproc</span><span class="hljs-params">(<span class="hljs-keyword">const</span> SINT32_t ic_param)</span> </span>&#123;;&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> SINT32_t <span class="hljs-title">static_168</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    SINT32_t loc_var = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">    aproc(loc_var);</span><br><span class="line">    bproc(loc_var);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>169 S：Use of forward reference of class member. 注意在类中变量的定义要在使用之前：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ok</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    INT32_t x;</span><br><span class="line">    ok(<span class="hljs-keyword">void</span>) &#123; x = <span class="hljs-number">1</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">notok</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    notok() &#123; d = <span class="hljs-number">91</span>; <span class="hljs-comment">/* not compliant */</span> &#125;</span><br><span class="line">    INT32_t d;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>170 S：Procedure call has no prototype and no defn. 被调用的函数缺少申明或者定义。</p>
<p>171 S：已取消</p>
<p>172 S：Variable declared multiply.变量重复定义：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">UCHAR_t ddd;</span><br><span class="line"></span><br><span class="line">UCHAR_t ddd;     <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">UCHAR_t ddd = <span class="hljs-number">0U</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_172</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>173 S：Class member starts with upper case character.类的函数应当以小写字符开头命名（构造函数除外）：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">one</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Upper2_out</span><span class="hljs-params">()</span></span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>174 S：Class member starts with lower case character.类的成员函数应当以大写字符开头命名：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">one</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    INT32_t x;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">notokproc1</span> <span class="hljs-params">()</span>  <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>175 S：Function starts with lower case character. 建议与163S一起取消。</p>
<p>176 S：Non standard escape sequence in source. 避免出现转义字符：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_176</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">char</span> c = <span class="hljs-string">'b'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">switch</span>(c)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="hljs-keyword">case</span> <span class="hljs-string">'\m'</span>:  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">default</span>:</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>177 S：Identifier not declared on new line. 建议每个变量都单起一行定义：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">INT32_t okvar, notok2; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_177</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    okvar = <span class="hljs-number">0</span>;</span><br><span class="line">    notok2 = <span class="hljs-number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>178 S：Declaration statement not on new line.同177S：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">INT32_t * oka;</span><br><span class="line">INT32_t b; INT32_t *notoka; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">proc</span><span class="hljs-params">(INT32_t * s, INT32_t *ok)</span></span>; <span class="hljs-comment">/* compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tag0</span> &#123;</span>INT32_t * w; INT32_t *notokq;&#125; astr; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_178</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    oka = <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>179 S：Extern not at start of header file. extern类型变量应当声明在源文件开头处：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"c_standards.h"</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Static_179.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/********************************************************</span></span><br><span class="line"><span class="hljs-comment"> * Standard 179 S : Extern not at start of header file.</span></span><br><span class="line"><span class="hljs-comment"> ********************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_179</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/*</span></span><br><span class="line"><span class="hljs-comment"> * Copyright (c) 2001 Liverpool Data Research Associates</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line">Static_179.h</span><br><span class="line">INT32_t var;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">extern</span> INT32_t ex; <span class="hljs-comment">/* not compliant */</span></span><br></pre></td></tr></table></figure>

<p>180 S：No space between * or &amp; and name in declaration. * 或者 &amp; 与变量名之间应当有空格。</p>
<h2 id="181-S-200-S"><a href="#181-S-200-S" class="headerlink" title="181 S ~ 200 S"></a>181 S ~ 200 S</h2><p>181 S：No space between if, while, for and expresn. (if, switch, while, for)关键字后请跟上一个空格：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">INT_t32_t <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT_t32_t i=<span class="hljs-number">3</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>( <span class="hljs-number">1</span>==<span class="hljs-number">2</span> ) &#123;<span class="hljs-number">2</span>;&#125;       <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    <span class="hljs-keyword">switch</span>(i)&#123;            <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">switch</span> (i)&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">while</span>(i==<span class="hljs-number">0</span>)&#123;<span class="hljs-number">2</span>;&#125;      <span class="hljs-comment">/* not compliant */</span>  </span><br><span class="line">    <span class="hljs-keyword">do</span>&#123;<span class="hljs-number">2</span>;&#125;<span class="hljs-keyword">while</span>(i==<span class="hljs-number">0</span>);   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&gt;<span class="hljs-number">2</span>;i++)&#123;<span class="hljs-number">2</span>;&#125; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>182 S：No space after semi colon in for expression. for循环表达式中分号后打一个空格，看上去更整洁：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ )&#123; i++;&#125;    <span class="hljs-comment">/*compliant */</span></span><br></pre></td></tr></table></figure>

<p>183 S：No newline after semi colon. 分号后再起一行，便于阅读：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_183</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT_t32_t i; INT_t32_t j;   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)</span><br><span class="line">    &#123;i++;&#125;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>184 S：Spaces round -&gt; or [] operators. -&gt; 或 [] 操作符连接处不能有空格：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_184</span><span class="hljs-params">(struct tag * astr,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                INT_t32_t b []     <span class="hljs-comment">/* not compliant */</span> )</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    astr -&gt;f = <span class="hljs-number">2</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>185 S：Space between unary operator and operand. 单目运算符和操作对象之间不应当有空格：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">proc</span><span class="hljs-params">(INT_t * g)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">   * g = <span class="hljs-number">77</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">   *g = * g + <span class="hljs-number">77</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function">INT_t <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT_t i = <span class="hljs-number">9</span>;</span><br><span class="line">    INT_t j = <span class="hljs-number">19</span>;</span><br><span class="line">    INT_t * p; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line">    i = - j; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    p = &amp; j; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>186 S：Space missing before or after binary operator.二目运算符之间缺少空格：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">INT_t <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>&#123;</span><br><span class="line">   INT_t i = <span class="hljs-number">9</span>;</span><br><span class="line">   INT_t j =<span class="hljs-number">8</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">   INT_t k= <span class="hljs-number">7</span>; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">   UINT_t x = <span class="hljs-number">3</span>;</span><br><span class="line">   UINT_t y = <span class="hljs-number">17</span>;</span><br><span class="line"></span><br><span class="line">   i= j; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">   i = j /k; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">   i = j &lt;&lt;k; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">   i = j &amp;&amp; k;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>187 S：Tab CHAR_tacter in source. 源文件中使用空格而不是Tab键缩进。</p>
<p>188 S：{ or } not on line by itself. 为了提高可读性，花括号的使用需要注意:</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tagnotok</span> &#123;</span> CHAR_t a; &#125; data; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    CHAR_t x;</span><br><span class="line">&#125; moredata;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">proc_ok</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_188</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>&#123;   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">   ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>189 S：Input line exceeds limit. 每一行的字符数不能过多。</p>
<p>190 S：{ … } contents not indented by N spaces. 花括号后一行缩进N个空格，N值可以配置。</p>
<p>191 S：Space between function name and parenthesis. 函数名和括号之间不应当有空格：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">notokproc1</span> <span class="hljs-params">()</span> <span class="hljs-comment">/* not compliant */</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>192 S：Static not on separate line in function defn.为了提高代码可读性，inline, static 和 const修饰的函数，修饰符和参数可以分两行写。</p>
<p>193 S：Inline not on separate line in function defn.同192S，内连函数定义中修饰符和函数定义可以分两行写：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> one::mem1(<span class="hljs-keyword">void</span>) <span class="hljs-comment">/* not compliant */</span></span><br></pre></td></tr></table></figure>

<p>194 S：Const not on separate line in member defn.同192S，const修饰符和函数定义可以分两行写。</p>
<p>195 S：Function return type needs a new line. 为了提高代码可读性，函数定义中返回值类型和参数可以分两行写。</p>
<p>196 S：Access specifier missing (added by Testbed). 类定义中成员缺少Public、Protected或Private修饰符。</p>
<p>197 S：Access specifiers in invalid order. 访问权限修饰符在类定义时应当遵循特定的顺序，首先是Public类型，然后是Protected类型，最后是Private类型：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">class_197</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    INT_t_16 d;</span><br><span class="line"><span class="hljs-keyword">private</span>:   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    INT_t32_t a;</span><br><span class="line"><span class="hljs-keyword">protected</span>: <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    INT_t32_t q;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>198 S：Use of privacy statement in struct.结构体中成员不应当修饰为privacy类型。</p>
<p>199 S：Use of anonymous namespace. 避免使用匿名命名空间。</p>
<p>200 S：Define used for numeric constant. C++中建议const代替宏定义常量，C中建议使用宏代替const定义常量。</p>
<h2 id="201-S-220-S"><a href="#201-S-220-S" class="headerlink" title="201 S ~ 220 S"></a>201 S ~ 220 S</h2><p>201 S：Use of numeric literal in expression. 该条规则建议使用宏或者枚举代替具体的数字，以提高代码的可维护性。</p>
<p>202 S：Class data is not explicitly private. 建议类中的成员变量为私有。</p>
<p>203 S：Cast on a constant value. 避免对常量进行强制类型转换：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> INT16_t con = <span class="hljs-number">19</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> INT16_t * pcon;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_203</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    INT16_t x;</span><br><span class="line">    INT16_t *p;</span><br><span class="line">    x = (INT16_t)con;      <span class="hljs-comment">/* not compliant if modifier = 0 */</span></span><br><span class="line">    p = (INT16_t *)pcon;   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>204 S：continue or goto not defined to rubbish. 避免使用goto和continue语句。</p>
<p>205 S：Use of multiple inheritance. 避免在类中使用复杂的多重继承。</p>
<p>206 S：Class initialiser out of order.类成员初始化的顺序需要与申明时候的顺序一致。</p>
<p>207 S：Use of old style /* comments in C++. 建议C++注释中使用双斜杠。</p>
<p>208 S：Private data name needs trailing underscore. 类的私有变量建议以下划线结尾以做区分:</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    UINT32_t m_ok_item_;</span><br><span class="line">    UINT32_t m_not_ok_item;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>209 S：Preprocessor command indented. 宏定义顶头写，不建议有缩进：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> XXX</span></span><br><span class="line">    <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> XXX</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>210 S：Macro name is not upper case. 建议宏定义变量名大写。</p>
<p>211 S：Overloaded &amp;&amp;, || or comma. 请不要重定义&amp;&amp;, || 或者 comma。</p>
<p>212 S：Use of friend function in class.谨慎的使用友元类，以免在类继承或者重新设计接口是带来隐患。</p>
<p>213 S：Use of friend class.同212S。</p>
<p>214 S：Member not declared virtual.建议基类中函数申明为virtual类型。</p>
<p>215 S：Struct or class called by value. 避免直接使用结构体作为函数的入参，或者作为函数的返回值，这样会消耗额外的内存空间，使用指针是更合理的方式。</p>
<p>216 S：Pointer name does not have required suffix. 建议变量的名称以变量的类型为后缀，增加代码的可读性：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_216</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UCHAR_t * pointer;    <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UCHAR_t * ptr;        <span class="hljs-comment">/* ok as allowed suffix is ptr */</span></span><br><span class="line">    UCHAR_t * aptr;       <span class="hljs-comment">/* ok as allowed suffix is ptr */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/***/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>217 S：Names only differ by case. 避免出现两个变量仅仅是某些字符大小写不同：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">INT32_t Foobar;</span><br><span class="line">INT32_t foobar;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">INT32_t fOobar;  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">aproc</span><span class="hljs-params">(CHAR_t aC2; INT32_t FooBar)</span> </span>&#123;;&#125; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_217</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tag</span>&#123;</span> CHAR_t aC1, INT32_t FooBar;&#125; local; <span class="hljs-comment">/* Ok as different scope */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>218 S：Name is used in standard libraries.命名时避免与C/C++标准库中的名称重复。</p>
<p>219 S：User name starts with underscore. 避免以下划线开始命名变量。</p>
<p>220 S：No prefix for global type. 建议全局变量名称后缀该变量的类型以增加可读性。</p>
<h2 id="221-S-241-S"><a href="#221-S-241-S" class="headerlink" title="221 S ~ 241 S"></a>221 S ~ 241 S</h2><p>221 S：Start of class/struct/union/enum lower case. 建议结构体和联合体命名以大写字符开头。</p>
<p>222 S：Start of variable is upper case. 建议变量名以小写字符开头。</p>
<p>223 S：No prefix for global function. 作用域为全局的函数名建议以_func结尾以增加代码的可读性。</p>
<p>224 S：Start of enumeration is upper case. 建议常量和枚举类型的变量以小写字符开头。</p>
<p>225 S：Inappropriate file extension. C的源文件类型为.c，C++源文件类型为.cpp。</p>
<p>226 S：Bit field is not octal, hex or suffix u.位字段建议是八进制、十进制或无符号型：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">enum</span> &#123;</span><br><span class="line">    won = <span class="hljs-number">1</span>,</span><br><span class="line">    too = <span class="hljs-number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tag</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    UINT dec : <span class="hljs-number">2</span>;     <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT oct : <span class="hljs-number">02</span>;</span><br><span class="line">    UINT hex : <span class="hljs-number">0x3</span>;</span><br><span class="line">    UINT enumr : won; <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    UINT decu : <span class="hljs-number">3u</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>227 S：Numeric bit operand is not octal,hex or u. 位操作建议是八进制、十进制或无符号型：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">static_227</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    UINT x = <span class="hljs-number">1</span>, y;</span><br><span class="line">    y = x &amp; <span class="hljs-number">20</span>;   <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">    y = x &amp; <span class="hljs-number">20u</span>;</span><br><span class="line">    y = x &amp; <span class="hljs-number">020</span>;</span><br><span class="line">    y = x &amp; <span class="hljs-number">0x20</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>228 S：Bracket mismatch ( or { in macro definition. 宏定义中缺少（ 或者｛：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* Missing right parenthesis (!) in this macro definition of a 'common' symbolic constant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> COMMON_SYM_CONSTANT ((2U * 3U) + 2U</span></span><br></pre></td></tr></table></figure>

<p>229 S：Bracket mismatch ) or } in macro definition. 宏定义中缺少） 或者 ｝：</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* Missing left parenthesis (!) in this macro definition of a 'common' symbolic constant */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> COMMON_SYM_CONSTANT 2U * 3U + 2U)</span></span><br></pre></td></tr></table></figure>

<p>230 S：No copy constructor defined for class. 尽管有默认的构造函数，建议自己实现类的构造函数。</p>
<p>231 S：No assignment operator defined for class. 同230S，建议自己实现构造函数并对变量初始化。</p>
<p>232 S：No destructor defined for class.同230S，建议自己实现析构函数。</p>
<p>233 S：No copy constructor for class with pointers.同230S，建议自己实现拷贝构造函数。</p>
<p>234 S：No assignment operator for class with pointers.同231S。</p>
<p>235 S：No destructor for class with pointers. 同232S。</p>
<p>236 S：New used in class without assignment op. 类中使用new分配空间时，建议定义拷贝赋值运算符：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    Person();</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Person</span><span class="hljs-params">(<span class="hljs-keyword">const</span> UINT_32 personNum)</span></span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Person</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Person &amp;person)</span></span>;</span><br><span class="line">    ~Person();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    UINT_32 personalNumber;</span><br><span class="line">    UINT_32 *skillsList;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Person::Person(<span class="hljs-keyword">const</span> UINT_32 personNum)</span><br><span class="line">&#123;</span><br><span class="line">    personalNumber = personNum;</span><br><span class="line">    skillsList = <span class="hljs-keyword">new</span> UINT_32[<span class="hljs-number">10</span>];  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_236</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-function">Person <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;</span><br><span class="line">    <span class="hljs-function">Person <span class="hljs-title">q1</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;</span><br><span class="line">    q1 = p1;  <span class="hljs-comment">/* invokes (compiler provided) copy assignment constructor */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>237 S：Assignment operator parameter not const. 拷贝赋值运算符被用来将一个对象中的值拷贝到同类型的另一个对象中，该对象应当为const类型，不被改变：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    Person();</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Person</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Uint_32 personNum)</span></span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Person</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Person &amp;person)</span></span>;</span><br><span class="line">    Person &amp; <span class="hljs-keyword">operator</span>=(Person &amp;person);  <span class="hljs-comment">// should be a const parameter</span></span><br><span class="line">    ~Person();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    Uint_32 personalNumber;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Person &amp;Person::<span class="hljs-keyword">operator</span>=(Person &amp;person)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != &amp;person)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">// Assignment code</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">foo</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-function">Person <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;</span><br><span class="line">    <span class="hljs-function">Person <span class="hljs-title">q1</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;</span><br><span class="line">    q1 = p1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>238 S：Number of templates exceeds N.建议减少使用模版：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">template</span> &lt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> &gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">tplate1</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    tplate1();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    Uint_32 value1;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> &gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">tplate2</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    tplate2();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    Uint_32 value2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> &gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">tplate3</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    tplate3();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    Uint_32 value3;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> &gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">tplate4</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    tplate4();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    Uint_32 value4;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> &gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">tplate5</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    tplate5();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    Uint_32 value5;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> &gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">tplate6</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    tplate6();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    Uint_32 value6;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> &gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">tplate7</span>        // <span class="hljs-title">This</span> <span class="hljs-title">declaration</span> <span class="hljs-title">causes</span> <span class="hljs-title">a</span> <span class="hljs-title">violation</span> <span class="hljs-title">when</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span>                    <span class="hljs-comment">// limit configured to 6.</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    tplate7();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    Uint_32 value7;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">foo</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>239 S：New used in class without copy constructor. 如果类中使用new分配空间，同时建议定义拷贝构造函数：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    Person();</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Person</span><span class="hljs-params">(<span class="hljs-keyword">const</span> UINT_32 personNum)</span></span>;</span><br><span class="line">    Person &amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-keyword">const</span> Person &amp;person);</span><br><span class="line">    ~Person();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    UINT_32 personalNumber;</span><br><span class="line">    UINT_32 *skillsList;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Person::Person(<span class="hljs-keyword">const</span> UINT_32 personNum)</span><br><span class="line">&#123;</span><br><span class="line">    personalNumber = personNum;</span><br><span class="line">    skillsList = <span class="hljs-keyword">new</span> UINT_32[<span class="hljs-number">10</span>];  <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_239</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-function">Person <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;</span><br><span class="line">    <span class="hljs-function">Person <span class="hljs-title">q1</span><span class="hljs-params">(p1)</span></span>;  <span class="hljs-comment">/* invokes (compiler provided) copy constructor */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>240 S：Use of dynamic_cast. 建议减少使用动态类型分配：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Base</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    Base();</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Base</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Base &amp;base)</span></span>;</span><br><span class="line">    Base&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-keyword">const</span> Base &amp;base);</span><br><span class="line">    <span class="hljs-keyword">virtual</span> ~Base();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Derived</span> :</span> <span class="hljs-keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    Derived();</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Derived</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Derived &amp;derived)</span></span>;</span><br><span class="line">    Derived&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-keyword">const</span> Derived &amp;derived);</span><br><span class="line">    <span class="hljs-keyword">virtual</span> ~Derived();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DifferentDerived</span> :</span> <span class="hljs-keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    DifferentDerived();</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">DifferentDerived</span><span class="hljs-params">(<span class="hljs-keyword">const</span> DifferentDerived &amp;dderived)</span></span>;</span><br><span class="line">    DifferentDerived&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-keyword">const</span> DifferentDerived &amp;dderived);</span><br><span class="line">    <span class="hljs-keyword">virtual</span> ~DifferentDerived();</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">static_240</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    Derived *d1 = <span class="hljs-keyword">new</span> Derived;</span><br><span class="line">    DifferentDerived *dd1 = <span class="hljs-keyword">dynamic_cast</span> &lt;DifferentDerived *&gt; (d1); <span class="hljs-comment">/* not compliant */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>241 S：Start of class/struct/union/enum lower case. 建议结构体和联合体命名以大写字符开头。</p>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/C/">C</a>, <a class="has-link-grey -link" href="/tags/Coding-Style/">Coding Style</a>, <a class="has-link-grey -link" href="/tags/Standard/">Standard</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>支付宝</span>
    <div class="qrcode"><img src="/images/Alipay.jpg" alt="支付宝"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>微信</span>
    <div class="qrcode"><img src="/images/Wechat.jpg" alt="微信"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019-09-20-Astyle-参数设置.html">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Astyle 参数设置</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2019-09-20-C语言开发标准（微控制器）.html">
                <span class="level-item">C语言开发标准（微控制器）</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">评论</h3>
        
<div id="valine-thread" class="content"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#valine-thread' ,
        notify: true,
        verify: true,
        app_id: 'mNs1xyerDNrr62umEcRrOW36-gzGzoHsz',
        app_key: 'R8mlRSdsFLY32DqTySDkfbea',
        placeholder: '来点鲱鱼罐头~'
    });
</script>

    </div>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left is-sticky">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="/images/avatar.jpg" alt="Tomy Stark">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Tomy Stark
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        四海茫茫
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Earth, Solar System.</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        12
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        23
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/SummerFalls" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="GitHub" href="https://github.com/SummerFalls">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="GitLab" href="https://gitlab.com/EyuJi">
                
                <i class="fab fa-gitlab"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="知乎" href="https://www.zhihu.com/people/TomyStark">
                
                <i class="fab fa-zhihu"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="微博" href="https://weibo.com/tomystark">
                
                <i class="fab fa-weibo"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://www.mr-wu.cn/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">吴川斌</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.mr-wu.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://www.mazirong.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">芯跳不止</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.mazirong.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.strongerhuang.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">strongerHuang</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.strongerhuang.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://jiaodi.tech/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">焦迪 Nemo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">jiaodi.tech</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.muselab-tech.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Muse Lab</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.muselab-tech.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://www.wujique.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">屋脊雀</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.wujique.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019-11-17-STM32-FreeModbus-移植.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/flower.jpg" alt="STM32-FreeModbus 移植">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-17T08:57:05.000Z">2019-11-17</time></div>
                    <a href="/2019-11-17-STM32-FreeModbus-移植.html" class="title has-link-black-ter is-size-6 has-text-weight-normal">STM32-FreeModbus 移植</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Bus/">Bus</a> / <a class="has-link-grey -link" href="/categories/Bus/FreeModbus/">FreeModbus</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019-10-13-Eclipse系IDE集成UML图教程.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/IMG_0603.JPG" alt="Eclipse系IDE集成UML图教程">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-13T07:17:22.000Z">2019-10-13</time></div>
                    <a href="/2019-10-13-Eclipse系IDE集成UML图教程.html" class="title has-link-black-ter is-size-6 has-text-weight-normal">Eclipse系IDE集成UML图教程</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Eclipse-derived-IDEs/">Eclipse-derived IDEs</a> / <a class="has-link-grey -link" href="/categories/IDE/">IDE</a> / <a class="has-link-grey -link" href="/categories/UML/">UML</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019-09-28-利用GitHub-Pages搭建Hexo静态博客教程.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/Foliage_Dylan_Luder.jpg" alt="利用GitHub Pages搭建Hexo静态博客教程">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-09-28T07:48:09.000Z">2019-09-28</time></div>
                    <a href="/2019-09-28-利用GitHub-Pages搭建Hexo静态博客教程.html" class="title has-link-black-ter is-size-6 has-text-weight-normal">利用GitHub Pages搭建Hexo静态博客教程</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Blog/">Blog</a> / <a class="has-link-grey -link" href="/categories/Blog/Hexo/">Hexo</a> / <a class="has-link-grey -link" href="/categories/GitHub/">GitHub</a> / <a class="has-link-grey -link" href="/categories/Tutorial/">Tutorial</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019-09-24-CCS-工程配置.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/desert.jpg" alt="CCS 工程配置">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-09-24T13:20:33.000Z">2019-09-24</time></div>
                    <a href="/2019-09-24-CCS-工程配置.html" class="title has-link-black-ter is-size-6 has-text-weight-normal">CCS 工程配置</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/IDE/">IDE</a> / <a class="has-link-grey -link" href="/categories/IDE/Code-Composer-Studio/">Code Composer Studio</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019-09-24-CCSv9-Static-Lib-静态库封装及使用.html" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/flower.jpg" alt="CCSv9 Static Lib 静态库封装及使用">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-09-24T07:05:11.000Z">2019-09-24</time></div>
                    <a href="/2019-09-24-CCSv9-Static-Lib-静态库封装及使用.html" class="title has-link-black-ter is-size-6 has-text-weight-normal">CCSv9 Static Lib 静态库封装及使用</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/IDE/">IDE</a> / <a class="has-link-grey -link" href="/categories/IDE/Code-Composer-Studio/">Code Composer Studio</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen is-sticky">
        
            
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                目录
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#1-S-20-S">
        <span class="has-mr-6">1</span>
        <span>1 S ~ 20 S</span>
        </a></li><li>
        <a class="is-flex" href="#21-S-40-S">
        <span class="has-mr-6">2</span>
        <span>21 S ~ 40 S</span>
        </a></li><li>
        <a class="is-flex" href="#41-S-60-S">
        <span class="has-mr-6">3</span>
        <span>41 S ~ 60 S</span>
        </a></li><li>
        <a class="is-flex" href="#61-S-80-S">
        <span class="has-mr-6">4</span>
        <span>61 S ~ 80 S</span>
        </a></li><li>
        <a class="is-flex" href="#81-S-100-S">
        <span class="has-mr-6">5</span>
        <span>81 S ~ 100 S</span>
        </a></li><li>
        <a class="is-flex" href="#101-S-120-S">
        <span class="has-mr-6">6</span>
        <span>101 S ~ 120 S</span>
        </a></li><li>
        <a class="is-flex" href="#121-S-140-S">
        <span class="has-mr-6">7</span>
        <span>121 S ~ 140 S</span>
        </a></li><li>
        <a class="is-flex" href="#141-S-160-S">
        <span class="has-mr-6">8</span>
        <span>141 S ~ 160 S</span>
        </a></li><li>
        <a class="is-flex" href="#161-S-180-S">
        <span class="has-mr-6">9</span>
        <span>161 S ~ 180 S</span>
        </a></li><li>
        <a class="is-flex" href="#181-S-200-S">
        <span class="has-mr-6">10</span>
        <span>181 S ~ 200 S</span>
        </a></li><li>
        <a class="is-flex" href="#201-S-220-S">
        <span class="has-mr-6">11</span>
        <span>201 S ~ 220 S</span>
        </a></li><li>
        <a class="is-flex" href="#221-S-241-S">
        <span class="has-mr-6">12</span>
        <span>221 S ~ 241 S</span>
        </a></li></ul>
        </div>
    </div>
</div>

        
            
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Blog/">
            <span class="level-start">
                <span class="level-item">Blog</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Blog/Hexo/">
            <span class="level-start">
                <span class="level-item">Hexo</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Bus/">
            <span class="level-start">
                <span class="level-item">Bus</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Bus/FreeModbus/">
            <span class="level-start">
                <span class="level-item">FreeModbus</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/C/">
            <span class="level-start">
                <span class="level-item">C</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/C/Standard/">
            <span class="level-start">
                <span class="level-item">Standard</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Debug/">
            <span class="level-start">
                <span class="level-item">Debug</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Debug/STM32/">
            <span class="level-start">
                <span class="level-item">STM32</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Eclipse-derived-IDEs/">
            <span class="level-start">
                <span class="level-item">Eclipse-derived IDEs</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GitHub/">
            <span class="level-start">
                <span class="level-item">GitHub</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IDE/">
            <span class="level-start">
                <span class="level-item">IDE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/IDE/Code-Composer-Studio/">
            <span class="level-start">
                <span class="level-item">Code Composer Studio</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Markdown/">
            <span class="level-start">
                <span class="level-item">Markdown</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial/">
            <span class="level-start">
                <span class="level-item">Tutorial</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/UML/">
            <span class="level-start">
                <span class="level-item">UML</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/Astyle/" style="font-size: 10px;">Astyle</a> <a href="/tags/Blog/" style="font-size: 10px;">Blog</a> <a href="/tags/Bus/" style="font-size: 10px;">Bus</a> <a href="/tags/C/" style="font-size: 20px;">C</a> <a href="/tags/Code-Composer-Studio/" style="font-size: 13.33px;">Code Composer Studio</a> <a href="/tags/Coding-Style/" style="font-size: 16.67px;">Coding Style</a> <a href="/tags/Debug/" style="font-size: 10px;">Debug</a> <a href="/tags/Eclipse-derived-IDEs/" style="font-size: 10px;">Eclipse-derived IDEs</a> <a href="/tags/FreeModbus/" style="font-size: 10px;">FreeModbus</a> <a href="/tags/GitHub/" style="font-size: 10px;">GitHub</a> <a href="/tags/Hello/" style="font-size: 10px;">Hello</a> <a href="/tags/Hexo/" style="font-size: 13.33px;">Hexo</a> <a href="/tags/IDE/" style="font-size: 16.67px;">IDE</a> <a href="/tags/Markdown/" style="font-size: 13.33px;">Markdown</a> <a href="/tags/Markdown-Plus/" style="font-size: 10px;">Markdown Plus</a> <a href="/tags/RS485/" style="font-size: 10px;">RS485</a> <a href="/tags/STM32/" style="font-size: 13.33px;">STM32</a> <a href="/tags/Standard/" style="font-size: 20px;">Standard</a> <a href="/tags/Static-Lib/" style="font-size: 10px;">Static Lib</a> <a href="/tags/Template/" style="font-size: 10px;">Template</a> <a href="/tags/Tutorial/" style="font-size: 10px;">Tutorial</a> <a href="/tags/UART/" style="font-size: 10px;">UART</a> <a href="/tags/UML/" style="font-size: 10px;">UML</a>
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Astyle/">
                        <span class="tag">Astyle</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Blog/">
                        <span class="tag">Blog</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Bus/">
                        <span class="tag">Bus</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/C/">
                        <span class="tag">C</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Code-Composer-Studio/">
                        <span class="tag">Code Composer Studio</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Coding-Style/">
                        <span class="tag">Coding Style</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Debug/">
                        <span class="tag">Debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eclipse-derived-IDEs/">
                        <span class="tag">Eclipse-derived IDEs</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/FreeModbus/">
                        <span class="tag">FreeModbus</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GitHub/">
                        <span class="tag">GitHub</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hello/">
                        <span class="tag">Hello</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hexo/">
                        <span class="tag">Hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDE/">
                        <span class="tag">IDE</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown/">
                        <span class="tag">Markdown</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown-Plus/">
                        <span class="tag">Markdown Plus</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RS485/">
                        <span class="tag">RS485</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/STM32/">
                        <span class="tag">STM32</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Standard/">
                        <span class="tag">Standard</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Static-Lib/">
                        <span class="tag">Static Lib</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Template/">
                        <span class="tag">Template</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tutorial/">
                        <span class="tag">Tutorial</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UART/">
                        <span class="tag">UART</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UML/">
                        <span class="tag">UML</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right is-sticky">
    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                目录
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#1-S-20-S">
        <span class="has-mr-6">1</span>
        <span>1 S ~ 20 S</span>
        </a></li><li>
        <a class="is-flex" href="#21-S-40-S">
        <span class="has-mr-6">2</span>
        <span>21 S ~ 40 S</span>
        </a></li><li>
        <a class="is-flex" href="#41-S-60-S">
        <span class="has-mr-6">3</span>
        <span>41 S ~ 60 S</span>
        </a></li><li>
        <a class="is-flex" href="#61-S-80-S">
        <span class="has-mr-6">4</span>
        <span>61 S ~ 80 S</span>
        </a></li><li>
        <a class="is-flex" href="#81-S-100-S">
        <span class="has-mr-6">5</span>
        <span>81 S ~ 100 S</span>
        </a></li><li>
        <a class="is-flex" href="#101-S-120-S">
        <span class="has-mr-6">6</span>
        <span>101 S ~ 120 S</span>
        </a></li><li>
        <a class="is-flex" href="#121-S-140-S">
        <span class="has-mr-6">7</span>
        <span>121 S ~ 140 S</span>
        </a></li><li>
        <a class="is-flex" href="#141-S-160-S">
        <span class="has-mr-6">8</span>
        <span>141 S ~ 160 S</span>
        </a></li><li>
        <a class="is-flex" href="#161-S-180-S">
        <span class="has-mr-6">9</span>
        <span>161 S ~ 180 S</span>
        </a></li><li>
        <a class="is-flex" href="#181-S-200-S">
        <span class="has-mr-6">10</span>
        <span>181 S ~ 200 S</span>
        </a></li><li>
        <a class="is-flex" href="#201-S-220-S">
        <span class="has-mr-6">11</span>
        <span>201 S ~ 220 S</span>
        </a></li><li>
        <a class="is-flex" href="#221-S-241-S">
        <span class="has-mr-6">12</span>
        <span>221 S ~ 241 S</span>
        </a></li></ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Blog/">
            <span class="level-start">
                <span class="level-item">Blog</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Blog/Hexo/">
            <span class="level-start">
                <span class="level-item">Hexo</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Bus/">
            <span class="level-start">
                <span class="level-item">Bus</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Bus/FreeModbus/">
            <span class="level-start">
                <span class="level-item">FreeModbus</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/C/">
            <span class="level-start">
                <span class="level-item">C</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/C/Standard/">
            <span class="level-start">
                <span class="level-item">Standard</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Debug/">
            <span class="level-start">
                <span class="level-item">Debug</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Debug/STM32/">
            <span class="level-start">
                <span class="level-item">STM32</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Eclipse-derived-IDEs/">
            <span class="level-start">
                <span class="level-item">Eclipse-derived IDEs</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GitHub/">
            <span class="level-start">
                <span class="level-item">GitHub</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IDE/">
            <span class="level-start">
                <span class="level-item">IDE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/IDE/Code-Composer-Studio/">
            <span class="level-start">
                <span class="level-item">Code Composer Studio</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Markdown/">
            <span class="level-start">
                <span class="level-item">Markdown</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial/">
            <span class="level-start">
                <span class="level-item">Tutorial</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/UML/">
            <span class="level-start">
                <span class="level-item">UML</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/Astyle/" style="font-size: 10px;">Astyle</a> <a href="/tags/Blog/" style="font-size: 10px;">Blog</a> <a href="/tags/Bus/" style="font-size: 10px;">Bus</a> <a href="/tags/C/" style="font-size: 20px;">C</a> <a href="/tags/Code-Composer-Studio/" style="font-size: 13.33px;">Code Composer Studio</a> <a href="/tags/Coding-Style/" style="font-size: 16.67px;">Coding Style</a> <a href="/tags/Debug/" style="font-size: 10px;">Debug</a> <a href="/tags/Eclipse-derived-IDEs/" style="font-size: 10px;">Eclipse-derived IDEs</a> <a href="/tags/FreeModbus/" style="font-size: 10px;">FreeModbus</a> <a href="/tags/GitHub/" style="font-size: 10px;">GitHub</a> <a href="/tags/Hello/" style="font-size: 10px;">Hello</a> <a href="/tags/Hexo/" style="font-size: 13.33px;">Hexo</a> <a href="/tags/IDE/" style="font-size: 16.67px;">IDE</a> <a href="/tags/Markdown/" style="font-size: 13.33px;">Markdown</a> <a href="/tags/Markdown-Plus/" style="font-size: 10px;">Markdown Plus</a> <a href="/tags/RS485/" style="font-size: 10px;">RS485</a> <a href="/tags/STM32/" style="font-size: 13.33px;">STM32</a> <a href="/tags/Standard/" style="font-size: 20px;">Standard</a> <a href="/tags/Static-Lib/" style="font-size: 10px;">Static Lib</a> <a href="/tags/Template/" style="font-size: 10px;">Template</a> <a href="/tags/Tutorial/" style="font-size: 10px;">Tutorial</a> <a href="/tags/UART/" style="font-size: 10px;">UART</a> <a href="/tags/UML/" style="font-size: 10px;">UML</a>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Astyle/">
                        <span class="tag">Astyle</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Blog/">
                        <span class="tag">Blog</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Bus/">
                        <span class="tag">Bus</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/C/">
                        <span class="tag">C</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Code-Composer-Studio/">
                        <span class="tag">Code Composer Studio</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Coding-Style/">
                        <span class="tag">Coding Style</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Debug/">
                        <span class="tag">Debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eclipse-derived-IDEs/">
                        <span class="tag">Eclipse-derived IDEs</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/FreeModbus/">
                        <span class="tag">FreeModbus</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GitHub/">
                        <span class="tag">GitHub</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hello/">
                        <span class="tag">Hello</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hexo/">
                        <span class="tag">Hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDE/">
                        <span class="tag">IDE</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown/">
                        <span class="tag">Markdown</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown-Plus/">
                        <span class="tag">Markdown Plus</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RS485/">
                        <span class="tag">RS485</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/STM32/">
                        <span class="tag">STM32</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Standard/">
                        <span class="tag">Standard</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Static-Lib/">
                        <span class="tag">Static Lib</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Template/">
                        <span class="tag">Template</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tutorial/">
                        <span class="tag">Tutorial</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UART/">
                        <span class="tag">UART</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UML/">
                        <span class="tag">UML</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="MISRA-C 2004 规则解读" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Tomy&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                共<span id="busuanzi_value_site_uv">0</span>个访客
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    
    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>